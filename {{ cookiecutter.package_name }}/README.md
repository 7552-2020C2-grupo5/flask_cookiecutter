# {{ cookiecutter.project_name }}
![GitHub tag (latest SemVer)](https://img.shields.io/github/v/tag/{{cookiecutter.github_user}}/{{cookiecutter.github_repo}}?style=flat-square)

{{ cookiecutter.description }}

# Installing the project
This project was built with [poetry](https://python-poetry.org) in mind as the means to manage dependencies. You can follow their [install guide](https://python-poetry.org/docs/#installation) to install it.

Having poetry installed, the following command will install the project into a new environment.

```bash
poetry install
```

Keep in mind that this will by default install the base requirements as well as the dev requirements.

To install the `testing` extras, run:

```bash
poetry install -E testing
```

Remember to commit to the repo the `poetry.lock` file generated by `poetry install`.

# Dev

## Installing pre-commit hooks
We use [pre-commit](https://pre-commit.com) to run several code scans and hooks that make the development cycle easier.
```bash
pre-commit install
pre-commit install -t push
```

## Adding new dependencies
Check the full [poetry](https://python-poetry.org) docs, but here goes a quick reminder,

```bash
poetry add <dependency> [--dev]
```

*Always* remember to commit changes to `poetry.lock`!

## Bumping SemVer version
We use [SemVer](https://semver.org). To keep things easy, dev dependencies include [bump](https://pypi.org/project/bump/) . Running `bump` will bump the minor version.

```bash
bump < --major|--minor|--patch >
```

## Running nox sessions
In order to bootstrap dependencies and run several actions, we are using [nox](https://nox.thea.codes/en/stable/). This way, dependencies are isolated and you get environment replicability.

To run all sessions,  
```bash
nox
```

To run tests session,  
```bash
nox --sessions tests [-- pylint arguments]
```

To run linting session,
```bash
nox --sessions cop
```

To run bandit session,  
```bash
nox --sessions bandit
```

To run pyreverse session,
```bash
nox --sessions pyreverse
```

## Style guide
{{cookiecutter.project_name}} follows [PEP8](https://www.python.org/dev/peps/pep-0008/).

If you installed the [pre-commit hooks](#installing-pre-commit-hooks) you shouldn't worry too much about style, since they will fix it for you or warn you about styling errors. We use the following hooks:

- [black](https://github.com/psf/black): An opinionated code formatting tool that ensures consistency across all projects using it
- [flake8](https://github.com/PyCQA/flake8): a tool to enforce style guide
- [mypy](https://github.com/python/mypy): a static type checker for Python
- [pylint](https://github.com/PyCQA/pylint): a source code, bug and quality checker

## Docstrings
We use either [numpy style](https://numpydoc.readthedocs.io/en/latest/format.html) or [google style](https://github.com/google/styleguide/blob/gh-pages/pyguide.md#38-comments-and-docstrings) docstring formatting. It's usually good to include the following docstrings:
- module level docstring giving a general overview of what it does.
- class dosctrings explaining what it is
- method/functions to explain what it does and what it's parameters are

## Testing
We use the [pytest framework](https://docs.pytest.org/en/latest/) to test {{cookiecutter.project_name}}. The easiest way to run tests it through `nox` with `nox --sessions tests`.

# Docker

Build main image.

```bash
cd docker
docker build . -t {{ cookiecutter.project_name }}
```

Get everything up and running.

```bash
docker-compose build
docker-compose up
```

# GitHub Actions
A few pipelines have been set to run on github actions to ensure code quality.

## `sessions.yml`
This workflow runs linters and tests.

# Documentation

## Whole project class diagram
![project_classes](docs/images/project_classes.png)

